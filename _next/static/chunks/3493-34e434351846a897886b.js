(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3493],{78231:function(e,t,n){"use strict";var r=n(85893),a=n(74047),o=n(52700),i=n(4706),c=n(8127),u=n(44102),s=n(20775),l=n(26265),d=n(67294),p=n(96486),f=n(49422),h=n(56732);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var a=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var y=function(e){(0,c.Z)(n,e);var t=m(n);function n(e){var o;return(0,a.Z)(this,n),o=t.call(this,e),(0,l.Z)((0,i.Z)(o),"getValueByKey",(function(e){var t={};return(0,p.map)(o.state.datas,(function(n){n[o.props._key]==e&&(t=n)})),t[o.props._value]})),(0,l.Z)((0,i.Z)(o),"onChangeSearchInput",(function(e){var t=e.target.value,n=o.props,r=n.isDropdownSearchCallApi,a=n.isDropdownBank;if(r)o.setState({searchInput:t});else{var i=[];i=a?(0,p.map)(o.props.data,(function(e){if(h.Z.getAliasName(e[o.props._value]).indexOf(h.Z.getAliasName(t))>-1||h.Z.getAliasName(e.shortName).indexOf(h.Z.getAliasName(t))>-1)return e})):(0,p.map)(o.props.data,(function(e){if(h.Z.getAliasName(e[o.props._value]).indexOf(h.Z.getAliasName(t))>-1)return e})),i=(0,p.compact)(i),o.setState({searchInput:t,datas:i})}})),(0,l.Z)((0,i.Z)(o),"onKeyDownInputSearch",(function(e){var t=o.props.isDropdownSearchCallApi,n=o.state.searchInput;t&&"Enter"==e.key&&o.props.handleSearchData(n)})),(0,l.Z)((0,i.Z)(o),"handleClickSearchData",(function(){var e=o.props.isDropdownSearchCallApi,t=o.state.searchInput;e&&o.props.handleSearchData(t)})),(0,l.Z)((0,i.Z)(o),"onSelectItem",(function(e){e[o.props._key]!=o.props.currentKey&&(o.props.onSelectItem(e),o.reset())})),(0,l.Z)((0,i.Z)(o),"validate",(function(){var e=[];if(!o.ref.current)return e;var t=o.inputRef.current.classList;t.remove("error");var n=!0,r=o.props,a=r.currentKey,i=r.validationName;return o.props.validations.isRequired&&h.Z.isEmpty(a)&&(n=!1,e.push(i18n.t("Pick ch\u1ecdn",i))),n||t.add("error"),e})),(0,l.Z)((0,i.Z)(o),"removeItemSelected",(function(){o.props.onSelectItem("")})),(0,l.Z)((0,i.Z)(o),"renderItems",(function(){var e=o.props,t=e._key,n=e._value,a=e.isDropdownBank,i=e._key_sold_out,c=o.state,u=c.datas;c.searchInput,c._dropup;return(0,p.map)(u,(function(e,c){var u;if(u=e.level?16*e.level:16,o.props.renderItem){var s=o.props.renderItem(e,c);return d.cloneElement(s,{onClick:function(){return o.onSelectItem(e)}})}var l=!1;return i&&!e[i]&&(l=!0),(0,r.jsxs)("div",{onClick:function(){return o.onSelectItem(e)},className:"ladiui dropdown-item ".concat(l?"text-sold-out":""),style:{paddingLeft:u,fontWeight:1==e.level?"500":""},"data-value":e[t],children:[e[n]," ",a?" (".concat(e.shortName,")"):"",l&&(0,f.t)("MSG.SOLD_OUT")]},c)}))})),o.state={searchInput:"",datas:e.data,_dropup:!1},o.ref=d.createRef(),o.inputRef=d.createRef(),o.reset=o.reset.bind((0,i.Z)(o)),o.resizeObserver=null,o}return(0,o.Z)(n,[{key:"handleClickBtn",value:function(e){e&&e.current&&window.innerHeight-e.current.getBoundingClientRect().y<200&&this.setState({_dropup:!0})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props!=e&&this.props.data!=e.data&&this.setState({datas:e.data})}},{key:"reset",value:function(){this.setState({searchInput:""})}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.currentKey,o=t.currentValue,i=t.placeHolder,c=(t.wrapperStyle,t.wrapperClassName),u=t.renderHeaders,s=t.urlIcon,l=t.innerClassName,d=t.dropup,p=t.idBlock,f=t.innerBtnAddTag,h=t.isShowBlockInputSearch,m=t.isParentCategoryDropdown,y=t.position_unset,v=t.widthListCustom,g=t.isSecondary,S=t.disabled,_=this.state,k=(_.searchInput,_._dropup),w=o||this.getValueByKey(a)||i;return(0,r.jsxs)("div",{id:n,ref:this.ref,className:"ladiui dropdown ".concat(c||""," ").concat(y?"position-unset":""),children:[(0,r.jsxs)("button",{ref:this.inputRef,className:"".concat(l," ladiui btn btn-md ").concat(g?"btn-secondary":"btn-outline-light","  dropdown-toggle select-dropdown custom-form-dynamic"),id:"dropdownMenuButton3","data-toggle":"dropdown",disabled:S,onClick:function(){return e.handleClickBtn(e.ref)},children:[s&&(0,r.jsx)("img",{className:"mr-4 ml-8",src:s,alt:""}),(0,r.jsx)("span",{className:"ladiui dropdown-text",children:w})]}),(0,r.jsxs)("div",{id:p,className:"ladiui dropdown-menu custom-form-dynamic ".concat(d||k?"dropup bt-36":""),style:{width:"".concat(v||"100%")},children:[u&&u(),h&&(0,r.jsxs)("div",{className:"ladiui form-group dropdown-input-search-custom",children:[(0,r.jsx)("i",{className:"ladi-icon ldicon-search",onClick:function(){return e.handleClickSearchData()}}),(0,r.jsx)("input",{type:"text",className:"ladiui form-control",name:"searchInput",value:this.state.searchInput,placeholder:"T\xecm ki\u1ebfm...",onChange:function(t){return e.onChangeSearchInput(t)},onKeyDown:this.onKeyDownInputSearch})]}),m&&(0,r.jsx)("div",{className:"ladiui dropdown-item",onClick:function(){return e.removeItemSelected()},children:"Kh\xf4ng ch\u1ecdn"}),this.renderItems(),f&&f]}),(0,r.jsx)("input",{type:"hidden",className:"ladiui-search-dropdown-value",value:""})]})}}]),n}(d.Component);(0,l.Z)(y,"defaultProps",{_key:"code",_value:"name",_key_sold_out:"",widthListCustom:"",position_unset:!1,validations:{isRequired:!1},wrapperClassName:"w100",innerClassName:"w100",isSecondary:!1}),t.Z=y},16606:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(85893),a=n(67294),o=n(11163),i=n(48142),c=n(96365),u=n(86644),s={carts:[{product_id:null,name:"S\u1ea3n ph\u1ea9m m\u1eabu 01",product_name:"S\u1ea3n ph\u1ea9m m\u1eabu 01",product_type:u.ZP.PRODUCT_TYPE.PHYSICAL,price:2e5,quantity:3},{product_id:null,name:"S\u1ea3n ph\u1ea9m m\u1eabu 02",product_name:"S\u1ea3n ph\u1ea9m m\u1eabu 02",product_type:u.ZP.PRODUCT_TYPE.PHYSICAL,price:1e5,quantity:4}]},l=n(42012),d=n(97926),p=n(96630),f=n(56732);function h(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=(0,c.I0)(),n=(0,i.$)(),m=n.t,y=n.i18n,v=(0,o.useRouter)(),g=e.isShowCart,S=void 0===g||g,_=(0,c.v9)((function(e){return e.cartReducer})),k=(0,c.v9)((function(e){return e.defaultReducer})),w=(0,c.v9)((function(e){return e.storeReducer})),C=(0,a.useMemo)((function(){return k.pathType||""}),[k.pathType]),Z=(0,a.useMemo)((function(){return k.pathRoot||""}),[k.pathRoot]),I=(0,a.useMemo)((function(){return _.carts||[]}),[_.carts]),N=(0,a.useMemo)((function(){return w.info_store||{}}),[w.info_store]),b=(0,a.useState)(""),A=b[0],T=b[1];return(0,a.useEffect)((function(){if(S){var e={domain:f.Z.getDomain(),lang:y.language,path:v.query.page_checkout_path,path_type:C||u.ZP.PATH_TYPE.PRODUCT};if(v.query.preview)t(l.Z.setData(d.SET_CARTS,s.carts));else{var n=f.Z.getCookie(u.ZP.CART_TOKEN);v.query.cart_token&&(n=v.query.cart_token);var r={"Content-Type":"application/json","cart-token":n};t(l.Z.show(e,r))}}}),[]),(0,a.useEffect)((function(){T(v.query.keyword)}),[v.query.keyword]),(0,r.jsx)("div",{className:"header-page-store",children:(0,r.jsxs)("div",{className:"content-header",children:[(0,r.jsx)("div",{className:"logo",onClick:function(){var e=v.asPath,t="".concat(Z,"/"),n=v.query;"/"!=e&&e!=Z&&(delete n.page_checkout_path,delete n.keyword,delete n.product,delete n.cart_token,delete n.checkout_token,delete n.product,v.push({pathname:t}))},children:(0,r.jsx)("img",{className:"desktop-store-logo",src:f.Z.getImageUrl(N.logo),alt:""})}),(0,r.jsxs)("div",{className:"search flex",children:[(0,r.jsx)("input",{type:"text",className:"ladiui form-control",value:A||"",placeholder:m("SEARCH_V2.PLACEHOLDER"),onChange:function(e){T(e.target.value)},onKeyDown:function(e){if("Enter"===e.key){t(p.Z.setShowLoading(!0));var n="".concat(Z,"/product-search?keyword=").concat(A);v.push(n)}}}),(0,r.jsx)("div",{className:"icon-search",children:(0,r.jsx)("i",{className:"ldicon-search"})})]}),(0,r.jsxs)("div",{className:"cart-icon header-cart ",onClick:function(){t(p.Z.setShowLoading(!0));var e=f.Z.getCookie(u.ZP.CART_TOKEN,Z),n="".concat(Z,"/carts/").concat(e),r=v.query;delete r.page_checkout_path,delete r.keyword,delete r.product,delete r.cart_token,delete r.checkout_token,delete r.product,v.push({pathname:n,query:r})},children:[(0,r.jsx)("i",{className:"ldicon-shopping-cart"}),I&&I.length>0&&(0,r.jsx)("div",{className:"badge-cart",children:(0,r.jsx)("div",{className:"badge-item",children:function(){var e,t=0,n=h(I);try{for(n.s();!(e=n.n()).done;){t+=e.value.quantity}}catch(r){n.e(r)}finally{n.f()}return t}()})})]})]})})}},98277:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893),a=(n(67294),n(11163)),o=n(56732);n(86644);function i(e){var t=e.url,n=e.link,i=(0,a.useRouter)();return(0,r.jsx)("div",{className:"banner-desktop",children:(0,r.jsx)("img",{className:"image-banner",src:o.Z.getImageUrl(t||("true"==i.query.isPreview?"6109/premium-vector-_-new-year-sale-colorful-sale-banner-20230713071321-en96q.jpeg":"")),alt:"",onClick:function(){n&&window.open(n,"_blank")},onError:function(e){var t=e.currentTarget;t.onerror=null,t.src="".concat(o.Z.getImageUrl(""))}})})}},17429:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(69483),a=n.n(r),o=a().createInstance({driver:a().LOCALSTORAGE,name:"LS"})},64895:function(e,t,n){"use strict";var r=n(67294);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,r.useEffect)((function(){if(e&&t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r)n(r.getAttribute("data-status"));else{(r=document.createElement("script")).src=e,r.async=!0,r.setAttribute("data-status","loading");var i,c=a(o);try{for(c.s();!(i=c.n()).done;){var u=i.value;r.setAttribute(Object.keys(u)[0],Object.values(u)[0])}}catch(d){c.e(d)}finally{c.f()}document.body.appendChild(r);var s=function(e){r.setAttribute("data-status","load"===e.type?"ready":"error")};r.addEventListener("load",s),r.addEventListener("error",s)}var l=function(e){n("load"===e.type?"ready":"error")};return r.addEventListener("load",l),r.addEventListener("error",l),function(){r&&(r.removeEventListener("load",l),r.removeEventListener("error",l))}}n("idle")}),[e,t])}},44868:function(e,t){"use strict";t.Z={setData:function(e,t){return{type:e,payload:{data:t}}}}},80202:function(e,t,n){"use strict";var r=n(86644),a=n(62497),o=n(34665),i={getPromotion:function(e){return{type:a.GET_PROMOTION,meta:{endpoint:r.FP.GET_PROMOTION,method:o.d.POST,body:e,hasCart:!1}}},validateDiscount:function(e){return{type:a.VALIDATE_DISCOUNT,meta:{endpoint:r.FP.VALIDATE_DISCOUNT,method:o.d.POST,body:e,hasCart:!1}}},setDiscountEmpty:function(){return{type:a.SET_DISCOUNT_EMPTY}},setDiscountShipping:function(e){return{type:a.SET_DISCOUNT_SHIPPING,payload:{data:e}}},setDiscount:function(e){return{type:a.SET_DISCOUNT,payload:{data:e}}}};t.Z=i}}]);